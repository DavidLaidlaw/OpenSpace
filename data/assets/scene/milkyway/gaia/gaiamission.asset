local assetHelper = asset.require("util/asset_helper")

local textures = asset.syncedResource({
    Name = "Stars Textures",
    Type = "HttpSynchronization",
    Identifier = "stars_textures",
    Version = 1
})

local colorLUT = asset.syncedResource({
    Name = "Stars Color Table",
    Type = "HttpSynchronization",
    Identifier = "stars_colormap",
    Version = 1
})

--local stars = asset.syncedResource({
--    Name = "Gaia Stars Data File",
--    Type = "HttpSynchronization",
--    Identifier = "gaia_stars",
--    Version = 1
--})
local stars = "E:/gaia_sync_data"

local GaiaMission = {
    Identifier = "GaiaMission",
    Renderable = {
        Type = "RenderableGaiaStars",
        File = stars .. "/DR2_full_Octree[150kSPN,250dist]/",
        FileReaderOption = "StreamOctree", -- BinaryOctree, StreamOctree
        RenderOption = "Static",
        ShaderOption = "Point_SSBO",
        Texture = textures .. "/halo.png",
        ColorMap = colorLUT .. "/colorbv.cmap",
        LuminosityMultiplier = 35,
        MagnitudeBoost = 25,
        CutOffThreshold = 38,
        BillboardSize = 10,
        CloseUpBoostDist = 300,
        Sharpness = 1.45,
        LodPixelThreshold = 250,
        FilterPosX = {0.0, 0.0},
        FilterPosY = {0.0, 0.0},
        FilterPosZ = {0.0, 0.0},
        FilterGMag = {20.0, 20.0},
        FilterBpRp = {0.0, 0.0},
        FilterDist = {0.0, 0.0},
    },
    GUI = {
        Name = "Gaia Mission",
        Path = "/GaiaMission"
    }
}

-- Prepared asset from Vienna's DR1_TGAS file (2.1M stars) if user want to compare the datasets.
local GaiaMissionFits = {
    Identifier = "GaiaMissionFits",
    Renderable = {
        Type = "RenderableGaiaStars",
        File = stars .. "/TGAS_Octree_10kSPN.bin",
        FileReaderOption = "BinaryOctree",
        ColumnOption = "Static",
        Texture = textures .. "/halo.png",
        ColorMap = colorLUT .. "/colorbv.cmap",
    },
    GUI = {
        Name = "Gaia Mission Fits",
        Path = "/GaiaMission"
    }
}

-- Prepared asset from AMNH (DR1 subset + HIP) if user want to compare the datasets.
local GaiaMissionSpeck = {
    Identifier = "GaiaMissionSpeck",
    Renderable = {
        Type = "RenderableGaiaStars",
        File = stars .. "/AMNH_DR1_Octree_10kSPN.bin",
        FileReaderOption = "BinaryOctree",
        ColumnOption = "Static",
        Texture = textures .. "/halo.png",
        ColorMap = colorLUT .. "/colorbv.cmap",
    },
    GUI = {
        Name = "Gaia Mission Speck",
        Path = "/GaiaMission"
    }
}

assetHelper.registerSceneGraphNodesAndExport(asset, { GaiaMission })
